{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;AAAA,MAAMA,qBAAqB,GAAG,CAACC,MAAM,EAAEC,GAAG,KAAK;EAC7C,MAAMC,gBAAgB,GAAG,EAAE;EAC3B,MAAMC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAACJ,GAAG,CAACK,gBAAgB,CAAC,GAAG,CAAC,CAAC;EAExD,SAASC,YAAY,CAACC,MAAM,EAAEC,KAAK,EAAE;IACnC,IAAIC,IAAI,GAAGD,KAAK,CAACE,UAAU;IAC3B,OAAOD,IAAI,EAAE;MACX,IAAIA,IAAI,KAAKF,MAAM,EAAE;QACnB,OAAO,IAAI;MACb;;MAEA;MACAE,IAAI,GAAGA,IAAI,CAACC,UAAU;IACxB;;IAEA;IACA,OAAO,KAAK;EACd;EAEA,SAASC,WAAW,CAACV,gBAAgB,EAAE;IACrC,OACE;MAAO,SAAS,EAAC;IAAkD,GACjE,iFACE,8EACE,8EAAI,gBAAc,CAAK,CACpB,CACC,EACR,iFACGA,gBAAgB,CAACW,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,KAC3B;MAAI,GAAG,EAAG,OAAM,GAAGA;IAAI,GACrB,8EAAKD,CAAC,CAAM,CAEf,CAAC,CACI,CACF;EAEZ;EAEAX,UAAU,CAACa,OAAO,CAAEF,CAAC,IAAK;IACxB,MAAMG,IAAI,GAAGH,CAAC,CAACI,WAAW;IAE1B,IAAID,IAAI,CAACE,IAAI,EAAE,KAAK,EAAE,EAAE;MACtB,MAAMC,YAAY,GAAGhB,KAAK,CAACC,IAAI,CAACS,CAAC,CAACR,gBAAgB,CAAC,WAAW,CAAC,CAAC;MAEhEc,YAAY,CAACJ,OAAO,CAAEK,CAAC,IAAK;QAC1B,IAAId,YAAY,CAACO,CAAC,EAAEO,CAAC,CAAC,EAAE;UACtBA,CAAC,CAACV,UAAU,CAACW,WAAW,CAACD,CAAC,CAAC;QAC7B;MACF,CAAC,CAAC;MAEF,IAAIP,CAAC,CAACI,WAAW,CAACC,IAAI,EAAE,KAAK,EAAE,EAAE;QAC/B,MAAMI,IAAI,GAAGN,IAAI,CAACO,MAAM,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE;QACxCtB,gBAAgB,CAACuB,IAAI,CAACR,IAAI,CAACS,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAACP,IAAI,EAAE,GAAGI,IAAI,CAAC;MAC5D;IACF;EACF,CAAC,CAAC;EAEF,IAAIrB,gBAAgB,CAACsB,MAAM,GAAG,CAAC,EAAE;IAC/B,MAAMG,MAAM,GAAGzB,gBAAgB,CAACsB,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IACrD,MAAMI,QAAQ,GAAG1B,gBAAgB,CAACsB,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE;IACzDxB,MAAM,CAAC6B,QAAQ,CAACJ,IAAI,CAAC;MACnBK,OAAO,EAAG,GAAE5B,gBAAgB,CAACsB,MAAO,aAAYG,MAAO,WAAUC,QAAS,iBAAgB;MAC1FG,gBAAgB,EAAE,kCAAkC;MACpDnB,WAAW,EAAEA,WAAW,CAACoB,IAAI,CAAC,SAAI,EAAE9B,gBAAgB;IACtD,CAAC,CAAC;EACJ;EAEA,OAAOF,MAAM;AACf,CAAC;AAEDiC,EAAE,CAACC,KAAK,CAACC,SAAS,CAChB,mBAAmB,EACnB,6BAA6B,EAC7BpC,qBAAqB,CACtB;;;;;;;;;;;;;;AC1ED,MAAMqC,iBAAiB,GAAG,CAACpC,MAAM,EAAEC,GAAG,KAAK;EACzC,IAAIoC,oBAAoB,GAAGpC,GAAG,CAACqC,aAAa,CAAC,IAAI,CAAC,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC;EACnE,MAAMC,QAAQ,GAAGnC,KAAK,CAACC,IAAI,CAACJ,GAAG,CAACK,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;EAE3E,SAASkC,eAAe,CAACC,OAAO,EAAE;IAChC,OAAOC,QAAQ,CAACD,OAAO,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC;EACrC;EAEA,SAAS/B,WAAW,CAACgC,WAAW,EAAE;IAChC,OACE;MAAO,SAAS,EAAC;IAAkD,GACjE,iFACE,8EACE,8EAAI,OAAK,CAAK,EACd,8EAAI,OAAK,CAAK,EACd,8EAAI,SAAO,CAAK,CACb,CACC,EACR,iFACGA,WAAW,CAAC/B,GAAG,CAAC,CAACgC,CAAC,EAAE9B,GAAG,KACtB;MAAI,GAAG,EAAG,UAAS,GAAGA;IAAI,GACxB,8EACE;MACE,SAAS,EAAG,gCAA+B8B,CAAC,CAACC,IAAK;IAAE,EAC9C,CACL,EACL,8EAAKD,CAAC,CAACE,GAAG,CAAM,EAChB,8EAAKF,CAAC,CAACG,OAAO,CAAM,CAEvB,CAAC,CACI,CACF;EAEZ;EAEA,IAAIC,SAAS,GAAG,KAAK;EACrB,MAAML,WAAW,GAAGL,QAAQ,CAAC1B,GAAG,CAAEgC,CAAC,IAAK;IACtC,MAAMK,YAAY,GAAGV,eAAe,CAACK,CAAC,CAAC;IACvC,MAAMM,OAAO,GAAG,EAAED,YAAY,GAAGb,oBAAoB,GAAG,CAAC,CAAC;IAC1D,MAAMS,IAAI,GAAGG,SAAS,GAAG,OAAO,GAAGE,OAAO,GAAG,SAAS,GAAG,SAAS;IAClEd,oBAAoB,GAAGa,YAAY;IAEnCD,SAAS,GAAGA,SAAS,KAAK,IAAI,GAAG,IAAI,GAAG,CAACE,OAAO;IAEhD,OAAO;MACLL,IAAI,EAAEA,IAAI;MACVC,GAAG,EAAEF,CAAC,CAACF,OAAO;MACdK,OAAO,EAAEH,CAAC,CAAC3B;IACb,CAAC;EACH,CAAC,CAAC;EAEF,IAAI+B,SAAS,EAAE;IACbjD,MAAM,CAACoD,MAAM,CAAC3B,IAAI,CAAC;MACjBK,OAAO,EAAE,yBAAyB;MAClCC,gBAAgB,EAAE,yBAAyB;MAC3CnB,WAAW,EAAEA,WAAW,CAACoB,IAAI,CAAC,SAAI,EAAEY,WAAW;IACjD,CAAC,CAAC;EACJ;EAEA,OAAO5C,MAAM;AACf,CAAC;AAEDiC,EAAE,CAACC,KAAK,CAACC,SAAS,CAChB,mBAAmB,EACnB,6BAA6B,EAC7BC,iBAAiB,CAClB;;;;;;;;;;;;;;AClED,MAAMiB,cAAc,GAAG,CAACrD,MAAM,EAAEC,GAAG,KAAK;EACtC,MAAMqD,WAAW,GAAG,EAAE;EACtB,MAAMC,uBAAuB,GAAG,EAAE;EAClC,MAAMC,oBAAoB,GAAG,EAAE;EAC/B,MAAMC,MAAM,GAAGrD,KAAK,CAACC,IAAI,CAACJ,GAAG,CAACK,gBAAgB,CAAC,KAAK,CAAC,CAAC;EAEtD,SAASM,WAAW,CAAC8C,IAAI,EAAEC,OAAO,EAAE;IAClC,OACE;MAAO,SAAS,EAAC;IAAkD,GACjE,iFACE,8EAEE,8EAAI,SAAO,CAAK,EAChB,8EAAI,UAAQ,CAAK,EAChBA,OAAO,IAAI,8EAAI,UAAQ,CAAK,CAC1B,CACC,EACR,iFACGD,IAAI,CAAC7C,GAAG,CAAC,CAAC+C,CAAC,EAAE7C,GAAG,KAAK;MACpB;MACA,MAAM8C,QAAQ,GAAGD,CAAC,CAACE,YAAY,CAAC,KAAK,CAAC,EAAEC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE;MACxD,MAAMC,GAAG,GAAGL,CAAC,CAACK,GAAG,EAAE9C,IAAI,EAAE;MACzB,OACE;QAAI,GAAG,EAAG,QAAO,GAAGJ;MAAI,GAEtB,8EACE;QAAK,GAAG,EAAE6C,CAAC,CAACE,YAAY,CAAC,KAAK;MAAE,EAAG,CAChC,EACL,8EAAKD,QAAQ,CAAM,EAClBF,OAAO,IAAI,8EAAKM,GAAG,CAAM,CACvB;IAET,CAAC,CAAC,CACI,CACF;EAEZ;EAEAR,MAAM,CAACzC,OAAO,CAAE4C,CAAC,IAAK;IACpB,MAAMM,IAAI,GAAGN,CAAC,CAACO,OAAO,CAAC,GAAG,CAAC;IAC3B,MAAMF,GAAG,GAAGL,CAAC,CAACK,GAAG,CAAC9C,IAAI,EAAE;IAExB,IAAI,CAAC8C,GAAG,IAAI,CAACC,IAAI,EAAE;MACjBZ,WAAW,CAAC7B,IAAI,CAACmC,CAAC,CAAC;IACrB,CAAC,MAAM,IAAIM,IAAI,IAAIA,IAAI,CAACE,QAAQ,KAAK,CAAC,CAAC,IAAI,CAACH,GAAG,EAAE;MAC/CV,uBAAuB,CAAC9B,IAAI,CAACmC,CAAC,CAAC;IACjC,CAAC,MAAM,IAAIM,IAAI,IAAID,GAAG,EAAE;MACtBT,oBAAoB,CAAC/B,IAAI,CAACmC,CAAC,CAAC;IAC9B;EACF,CAAC,CAAC;EAEF,IAAIN,WAAW,CAAC9B,MAAM,GAAG,CAAC,EAAE;IAC1B,MAAMG,MAAM,GAAG2B,WAAW,CAAC9B,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IAChDxB,MAAM,CAAC6B,QAAQ,CAACJ,IAAI,CAAC;MACnBK,OAAO,EAAG,GAAEwB,WAAW,CAAC9B,MAAO,SAAQG,MAAO,mBAAkB;MAChEI,gBAAgB,EAAE,yBAAyB;MAC3CnB,WAAW,EAAEA,WAAW,CAACoB,IAAI,CAAC,SAAI,EAAEsB,WAAW,EAAE,KAAK;IACxD,CAAC,CAAC;EACJ;EAEA,IAAIC,uBAAuB,CAAC/B,MAAM,GAAG,CAAC,EAAE;IACtC,MAAMG,MAAM,GAAG4B,uBAAuB,CAAC/B,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IAC5DxB,MAAM,CAACqE,MAAM,CAAC5C,IAAI,CAAC;MACjBK,OAAO,EAAG,GAAEyB,uBAAuB,CAAC/B,MAAO,gBAAeG,MAAO,mBAAkB;MACnFI,gBAAgB,EAAE,gCAAgC;MAClDnB,WAAW,EAAEA,WAAW,CAACoB,IAAI,CAAC,SAAI,EAAEuB,uBAAuB,EAAE,KAAK;IACpE,CAAC,CAAC;EACJ;EAEA,IAAIC,oBAAoB,CAAChC,MAAM,GAAG,CAAC,EAAE;IACnC,MAAMG,MAAM,GAAG6B,oBAAoB,CAAChC,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IACzDxB,MAAM,CAAC6B,QAAQ,CAACJ,IAAI,CAAC;MACnBK,OAAO,EAAG,GAAE0B,oBAAoB,CAAChC,MAAO,SAAQG,MAAO,2CAA0C;MACjGI,gBAAgB,EAAE,iDAAiD;MACnEnB,WAAW,EAAEA,WAAW,CAACoB,IAAI,CAAC,SAAI,EAAEwB,oBAAoB,EAAE,IAAI;IAChE,CAAC,CAAC;EACJ;EAEA,OAAOxD,MAAM;AACf,CAAC;AAEDiC,EAAE,CAACC,KAAK,CAACC,SAAS,CAChB,mBAAmB,EACnB,6BAA6B,EAC7BkB,cAAc,CACf;;;;;;;;;;;;;;;ACrFwB;AACH;AACG;;;;;;;;;;;;;;;ACFzB,MAAMiB,iBAAiB,GAAG,CAACtE,MAAM,EAAEC,GAAG,KAAK;EACzC,MAAMsE,YAAY,GAAG,EAAE;EACvB,MAAMC,KAAK,GAAGpE,KAAK,CAACC,IAAI,CAACJ,GAAG,CAACK,gBAAgB,CAAC,GAAG,CAAC,CAAC;EAEnD,SAASM,WAAW,CAAC2D,YAAY,EAAE;IACjC,OACE;MAAO,SAAS,EAAC;IAAkD,GACjE,iFACE,8EACE,8EAAI,WAAS,CAAK,EAClB,8EAAI,MAAI,CAAK,CACV,CACC,EACR,iFACGA,YAAY,CAAC1D,GAAG,CAAC,CAAC4D,CAAC,EAAE1D,GAAG,KACvB;MAAI,GAAG,EAAG,OAAM,GAAGA;IAAI,GACrB,8EAAK0D,CAAC,CAACvD,WAAW,CAAM,EACxB,8EAAKuD,CAAC,CAACX,YAAY,CAAC,MAAM,CAAC,CAAM,CAEpC,CAAC,CACI,CACF;EAEZ;EAEAU,KAAK,CAACxD,OAAO,CAAEyD,CAAC,IAAK;IACnB,MAAMC,IAAI,GAAGD,CAAC,CAACX,YAAY,CAAC,MAAM,CAAC;IAEnC,IACEY,IAAI,KAAK,IAAI,IACbA,IAAI,CAACvD,IAAI,EAAE,KAAK,EAAE,IAClBuD,IAAI,CAACvD,IAAI,EAAE,KAAK,GAAG,IACnBuD,IAAI,CAACvD,IAAI,EAAE,KAAK,SAAS,IACzBuD,IAAI,CAACvD,IAAI,EAAE,KAAK,UAAU,EAC1B;MACAoD,YAAY,CAAC9C,IAAI,CAACgD,CAAC,CAAC;IACtB;EACF,CAAC,CAAC;EAEF,IAAIF,YAAY,CAAC/C,MAAM,GAAG,CAAC,EAAE;IAC3B,MAAMG,MAAM,GAAG4C,YAAY,CAAC/C,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IACjDxB,MAAM,CAACqE,MAAM,CAAC5C,IAAI,CAAC;MACjBK,OAAO,EAAG,GAAEyC,YAAY,CAAC/C,MAAO,QAAOG,MAAO,gCAA+BA,MAAO,EAAC;MACrFI,gBAAgB,EAAE,qCAAqC;MACvDnB,WAAW,EAAEA,WAAW,CAACoB,IAAI,CAAC,SAAI,EAAEuC,YAAY;IAClD,CAAC,CAAC;EACJ;EAEA,OAAOvE,MAAM;AACf,CAAC;AAEDiC,EAAE,CAACC,KAAK,CAACC,SAAS,CAChB,mBAAmB,EACnB,6BAA6B,EAC7BmC,iBAAiB,CAClB;;;;;;;;;;;;;;;;ACvDD,MAAM;EAAEK,QAAQ;EAAEC,SAAS;EAAEC;AAAO,CAAC,GAAG5C,EAAE,CAAC6C,OAAO;AAClD,MAAM;EAAEC,OAAO;EAAEC;AAAO,CAAC,GAAG/C,EAAE,CAACgD,UAAU;AAEzC,MAAMC,WAAW,GAAIC,KAAK,IAAK;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMa,YAAY,GAAGX,MAAM,CAAC,IAAI,CAAC;;EAEjC;EACAD,SAAS,CAAC,MAAM;IACda,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEC,aAAa,CAAC;IAEjD,OAAO,MAAM;MACXF,QAAQ,CAACG,mBAAmB,CAAC,OAAO,EAAED,aAAa,CAAC;IACtD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,SAASA,aAAa,CAACtE,CAAC,EAAE;IACxBkE,WAAW,CAAC,KAAK,CAAC;EACpB;EAEA,SAASM,MAAM,CAACxE,CAAC,EAAE;IACjB,IAAI,CAACiE,QAAQ,EAAE;MACbD,SAAS,CAAES,KAAK,IAAK,CAACA,KAAK,CAAC;IAC9B;IAEAP,WAAW,CAAClE,CAAC,KAAK0E,SAAS,CAAC;EAC9B;EAEA,SAASC,aAAa,GAAG;IACvB,OAAOC,UAAU,CAACC,SAAS,CAACC,QAAQ,CAAC,KAAK,CAAC,GACvC;MAAEC,MAAM,EAAEjB,KAAK,CAACiB,MAAM,CAACC;IAAQ,CAAC,GAChC;MACEC,aAAa,EAAE,MAAM;QACnB,MAAMC,IAAI,GAAGpB,KAAK,CAACiB,MAAM,CAACC,OAAO,EAAEG,qBAAqB,EAAE,IAAI,IAAI;QAElE,IAAID,IAAI,EAAE;UACRA,IAAI,CAACE,CAAC,GAAGF,IAAI,CAACG,KAAK,GAAGH,IAAI,CAACI,KAAK,GAAGJ,IAAI,CAACI,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;UAC5DJ,IAAI,CAACK,CAAC,GAAGL,IAAI,CAACK,CAAC,GAAGL,IAAI,CAACM,MAAM,GAAG,EAAE;UAElC,OAAON,IAAI;QACb;QAEA,OAAO,IAAI;MACb;IACF,CAAC;EACP;EAEA,OACE,kIACE,kEAAC,MAAM;IAAC,GAAG,EAAEf,YAAa;IAAC,MAAM,EAAE,IAAK;IAAC,OAAO,EAAEK;EAAO,GAAC,SAE1D,CAAS,EACRT,MAAM,IACL,kEAAC,OAAO;IACN,SAAS,EAAC,iDAAiD;IAC3D,WAAW,EAAED,KAAK,CAAC2B,KAAM;IACzB,OAAO,EAAEjB,MAAO;IAChB,QAAQ,EAAC;EAAa,GAClBG,aAAa,EAAE,GAEnB;IAAI,SAAS,EAAC;EAAoD,GAC/Db,KAAK,CAAC2B,KAAK,CACT,EACL;IAAK,SAAS,EAAC;EAAoD,GAChE3B,KAAK,CAAC4B,QAAQ,CACX,CAET,CACA;AAEP,CAAC;AAED,+DAAe7B,WAAW;;;;;;;;;;;;;;ACzE1B,MAAM;EAAEP,QAAQ;EAAEC,SAAS;EAAEC;AAAO,CAAC,GAAG5C,EAAE,CAAC6C,OAAO;AAElD,MAAMkC,eAAe,GAAG,UAAUC,MAAM,EAAEC,gBAAgB,EAAE;EAC1D,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGzC,QAAQ,CAAC;IACnC0C,IAAI,EAAE,IAAI;IACVC,SAAS,EAAE,KAAK;IAChBC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAMC,kBAAkB,GAAG3C,MAAM,CAAC,IAAI,CAAC;EAEvCD,SAAS,CAAC,MAAM;IACd,IAAI;MACFwC,SAAS,CAAC;QACRC,IAAI,EAAE,IAAI;QACVC,SAAS,EAAE,IAAI;QACfC,KAAK,EAAE;MACT,CAAC,CAAC;MAEFC,kBAAkB,CAACnB,OAAO,EAAEoB,KAAK,EAAE;MAEnC,IAAI,OAAOC,eAAe,KAAK,WAAW,EAAE;QAC1CF,kBAAkB,CAACnB,OAAO,GAAG,IAAIqB,eAAe,EAAE;MACpD;MAEA,CAAC,YAAY;QACX,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B3B,UAAU,CAAC4B,OAAO,GACf,iEAAgE,EACnE;UACEC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE,IAAIC,eAAe,CAAC;YACxBf,MAAM,EAAEA,MAAM;YACdjE,OAAO,EAAEkE;UACX,CAAC,CAAC;UACFe,MAAM,EAAET,kBAAkB,CAACnB,OAAO,EAAE4B;QACtC,CAAC,CACF;QAED,MAAMC,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;QAE1C,IAAIR,QAAQ,CAACS,EAAE,EAAE;UACfhB,SAAS,CAAC;YACRC,IAAI,EAAEa,YAAY,CAACb,IAAI;YACvBC,SAAS,EAAE,KAAK;YAChBC,KAAK,EAAE;UACT,CAAC,CAAC;QACJ,CAAC,MAAM;UACLH,SAAS,CAAC;YACRC,IAAI,EAAE,IAAI;YACVC,SAAS,EAAE,KAAK;YAChBC,KAAK,EAAG,GAAEW,YAAY,CAACG,IAAK,MAAKH,YAAY,CAACpG,OAAQ,IAAG6F,QAAQ,CAACW,MAAO,KAAIX,QAAQ,CAACY,UAAW;UACnG,CAAC,CAAC;QACJ;MACF,CAAC,GAAG;MAEJ,OAAO,MAAM;QACXf,kBAAkB,CAACnB,OAAO,EAAEoB,KAAK,EAAE;MACrC,CAAC;IACH,CAAC,CAAC,OAAOe,EAAE,EAAE;MACXpB,SAAS,CAAC;QACRC,IAAI,EAAE,IAAI;QACVC,SAAS,EAAE,KAAK;QAChBC,KAAK,EAAEiB,EAAE,CAAC1G;MACZ,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACmF,MAAM,EAAEC,gBAAgB,CAAC,CAAC;EAE9B,OAAOC,MAAM;AACf,CAAC;;;;;;;;;;;;;;;;;;ACpED;AACA;AACyC;AACC;AAChB;AAE1B,MAAMuB,cAAc,GAAGzG,EAAE,CAAC0G,OAAO,CAACD,cAAc;AAChD,MAAM;EAAEE;AAAa,CAAC,GAAG3G,EAAE,CAACC,KAAK;AACjC,MAAM;EAAE2G,SAAS;EAAEC;AAAY,CAAC,GAAG7G,EAAE,CAAC8G,IAAI;AAE1C,MAAMC,oBAAoB,GAAG,MAAM;EAC/B,MAAMhJ,MAAM,GAAG;IACXqE,MAAM,EAAE,EAAE;IACVjB,MAAM,EAAE,EAAE;IACVvB,QAAQ,EAAE,EAAE;IACZkH,IAAI,EAAE,CAAC;EACX,CAAC;EAED,MAAM;IAAEE;EAAS,CAAC,GAAGH,WAAW,CAAC,aAAa,CAAC;EAC/C,MAAM;IAAE7B,MAAM;IAAEiC,iBAAiB;IAAEC,SAAS;IAAEC;EAAS,CAAC,GAAGP,SAAS,CAC/DQ,MAAM,IAAK;IACR,MAAMC,MAAM,GAAGD,MAAM,CAAC,aAAa,CAAC;IACpC,OAAO;MACHpC,MAAM,EAAEqC,MAAM,CAACC,gBAAgB,EAAE;MACjCL,iBAAiB,EAAEI,MAAM,CAACE,oBAAoB,EAAE;MAChDL,SAAS,EAAEG,MAAM,CAACG,YAAY,EAAE;MAChCL,QAAQ,EAAEE,MAAM,CAACI,YAAY,EAAE,IAAIJ,MAAM,CAACK,gBAAgB;IAC9D,CAAC;EACL,CAAC,CACJ;EAED,MAAM;IAAEtC,IAAI;IAAEC,SAAS;IAAEC;EAAM,CAAC,GAAGP,uDAAe,CAC9CC,MAAM,EACNiC,iBAAiB,CACpB;EAED,IAAI7B,IAAI,KAAK,IAAI,EAAE;IACf,MAAMuC,MAAM,GAAG,IAAIC,SAAS,EAAE;IAC9B,MAAM5J,GAAG,GAAG2J,MAAM,CAACE,eAAe,CAACzC,IAAI,EAAE,WAAW,CAAC;IAErDuB,YAAY,CAAC,mBAAmB,EAAE5I,MAAM,EAAEC,GAAG,CAAC;IAE9C8J,UAAU,CAAC,MAAM;MACbd,QAAQ,CAAC;QACLe,IAAI,EAAE;UACFC,0BAA0B,EAAEC,IAAI,CAACC,SAAS,CAACnK,MAAM;QACrD;MACJ,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,CAAC;EACT;EAEA,OACI,kEAAC,qDAAW;IACR,MAAM,EAAEA,MAAO;IACf,SAAS,EAAEsH,SAAU;IACrB,KAAK,EAAEC,KAAM;IACb,SAAS,EAAE4B;EAAU,EACvB;AAEV,CAAC;AAED,MAAMiB,6BAA6B,GAAG,MAAM;EACxC;EACA;;EAEA,MAAMC,cAAc,GAAGpI,EAAE,CAAC8G,IAAI,CACzBM,MAAM,CAAC,aAAa,CAAC,CACrBiB,4BAA4B,EAAE;EAEnC,OAAOD,cAAc,KAAK,IAAI,IAAI,kEAAC,oBAAoB,OAAG;AAC9D,CAAC;AAED3B,cAAc,CAAC,0BAA0B,EAAE;EACvC6B,MAAM,EAAEH,6BAA6B;EACrCtH,IAAI,EAAE;AACV,CAAC,CAAC;;;;;;;;;;;;;;;AC3E4B;AAE9B,MAAM;EAAE2H;AAA2B,CAAC,GAAGxI,EAAE,CAACgH,QAAQ;AAElD,MAAMR,WAAW,GAAItD,KAAK,IAAK;EAC7B,OACE,kEAAC,0BAA0B;IACzB,IAAI,EAAC,mBAAmB;IACxB,KAAK,EAAC,eAAe;IACrB,SAAS,EAAC;EAAmC,GAE7C,kEAAC,+CAAM,EAAKA,KAAK,CAAI,CACM;AAEjC,CAAC;AAED,+DAAesD,WAAW;;;;;;;;;;;;;;;AChBe;AACzC,MAAM;EAAEiC;AAAa,CAAC,GAAGzI,EAAE,CAACgD,UAAU;AACtC,MAAM;EAAEJ;AAAO,CAAC,GAAG5C,EAAE,CAAC6C,OAAO;AAE7B,MAAM6F,WAAW,GAAIxF,KAAK,IAAK;EAC7B,OACE,kIACGA,KAAK,CAACyF,IAAI,CAACpJ,MAAM,GAAG,CAAC,GACpB,kIACE;IAAO,SAAS,EAAC;EAAiD,GAChE,iFACG2D,KAAK,CAACyF,IAAI,CAAC/J,GAAG,CAAC,CAAC4D,CAAC,EAAE1D,GAAG,KAAK;IAC1B,MAAM8J,QAAQ,GAAGhG,MAAM,CAAC,IAAI,CAAC;IAC7B,OACE;MAAI,GAAG,EAAEgG,QAAS;MAAC,GAAG,EAAG,MAAK9J,GAAI;IAAE,GAClC,8EAAK0D,CAAC,CAAC3C,OAAO,CAAM,EACpB,8EACE,kEAAC,qDAAW;MAAC,KAAK,EAAE2C,CAAC,CAAC1C,gBAAiB;MAAC,MAAM,EAAE8I;IAAS,GACvD,kEAAC,CAAC,CAAC,WAAW,OAAG,CACL,CACX,CACF;EAET,CAAC,CAAC,CACI,CACF,CACP,GAEH;IAAG,SAAS,EAAC;EAAyD,GACnE1F,KAAK,CAAC2F,YAAY,CAEtB,CACA;AAEP,CAAC;AAED,MAAMN,MAAM,GAAIrF,KAAK,IAAK;EACxB,MAAM;IAAEnF,MAAM;IAAEsH,SAAS;IAAEC,KAAK;IAAE4B;EAAU,CAAC,GAAGhE,KAAK;EAErD,MAAM4F,cAAc,GAAG,CACrB;IAAEjE,KAAK,EAAE,QAAQ;IAAEhE,IAAI,EAAE,SAAS;IAAE8H,IAAI,EAAE5K,MAAM,CAACqE;EAAO,CAAC,EACzD;IAAEyC,KAAK,EAAE,QAAQ;IAAEhE,IAAI,EAAE,SAAS;IAAE8H,IAAI,EAAE5K,MAAM,CAACoD;EAAO,CAAC,EACzD;IAAE0D,KAAK,EAAE,UAAU;IAAEhE,IAAI,EAAE,MAAM;IAAE8H,IAAI,EAAE5K,MAAM,CAAC6B;EAAS,CAAC,CAC3D;EAED,OACE,kIACG,CAACyF,SAAS,IAAI,CAACC,KAAK,GACnB,kIACGwD,cAAc,CAAClK,GAAG,CAAEmK,OAAO,IAC1B;IACE,GAAG,EAAG,WAAUA,OAAO,CAAClE,KAAM,EAAE;IAChC,SAAS,EAAC;EAA4C,GAEtD;IAAI,SAAS,EAAC;EAAoD,GAChE;IACE,SAAS,EAAG,gCAA+BkE,OAAO,CAAClI,IAAK;EAAE,EACpD,EAAC,GAAG,EACXkI,OAAO,CAAClE,KAAK,CACX,EACL,kEAAC,WAAW;IACV,IAAI,EAAEkE,OAAO,CAACJ,IAAK;IACnB,YAAY,EAAG,KAAII,OAAO,CAAClE,KAAK,CAACmE,WAAW,EAAG;EAAc,EAC7D,CAEL,CAAC,CACD,GACD1D,KAAK,GACP,6EAAIA,KAAK,CAAK,GAEd,6EAAG,YAAU,CACd,EAED,kEAAC,YAAY;IACX,SAAS,EAAC,8CAA8C;IACxD,IAAI,EAAG,kCAAiC,GAAG4B;EAAU,GACtD,gBAED,CAAe,CACd;AAEP,CAAC;AAED,+DAAeqB,MAAM;;;;;;;;;;;;;ACnFY;;;;;;;;;;;;ACAjC;;;;;;;;;;;ACAA;;;;;;;;;;;;;;ACAe;AACf;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCbA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,2FAA2F,+HAA+H;UAC1N","sources":["webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/default-checks/bolded-paragraphs.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/default-checks/heading-order.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/default-checks/image-alts.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/default-checks/index.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/default-checks/missing-hrefs.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/details-view.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/hooks.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/index.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/report-panel.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/accessibility-checker/report.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/index.js","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/style.scss","webpack://wsuwp-plugin-gutenberg-accessibility/external window [\"wp\",\"element\"]","webpack://wsuwp-plugin-gutenberg-accessibility/../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/bootstrap","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/runtime/chunk loaded","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/runtime/compat get default export","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/runtime/define property getters","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/runtime/hasOwnProperty shorthand","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/runtime/make namespace object","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/runtime/jsonp chunk loading","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/before-startup","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/startup","webpack://wsuwp-plugin-gutenberg-accessibility/webpack/after-startup"],"sourcesContent":["const boldedParagraphsCheck = (report, doc) => {\r\n  const boldedParagraphs = [];\r\n  const paragraphs = Array.from(doc.querySelectorAll(\"p\"));\r\n\r\n  function isDescendant(parent, child) {\r\n    let node = child.parentNode;\r\n    while (node) {\r\n      if (node === parent) {\r\n        return true;\r\n      }\r\n\r\n      // Traverse up to the parent\r\n      node = node.parentNode;\r\n    }\r\n\r\n    // Go up until the root but couldn't find the `parent`\r\n    return false;\r\n  }\r\n\r\n  function detailsView(boldedParagraphs) {\r\n    return (\r\n      <table className=\"wsu-gutenberg-accessibility-panel__details-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Paragraph Text</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {boldedParagraphs.map((p, idx) => (\r\n            <tr key={`para-` + idx}>\r\n              <td>{p}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  paragraphs.forEach((p) => {\r\n    const text = p.textContent;\r\n\r\n    if (text.trim() !== \"\") {\r\n      const boldElements = Array.from(p.querySelectorAll(\"strong, b\"));\r\n\r\n      boldElements.forEach((e) => {\r\n        if (isDescendant(p, e)) {\r\n          e.parentNode.removeChild(e);\r\n        }\r\n      });\r\n\r\n      if (p.textContent.trim() === \"\") {\r\n        const more = text.length > 75 ? \"â€¦\" : \"\";\r\n        boldedParagraphs.push(text.substring(0, 75).trim() + more);\r\n      }\r\n    }\r\n  });\r\n\r\n  if (boldedParagraphs.length > 0) {\r\n    const plural = boldedParagraphs.length > 1 ? \"s\" : \"\";\r\n    const singular = boldedParagraphs.length === 1 ? \"s\" : \"\";\r\n    report.warnings.push({\r\n      message: `${boldedParagraphs.length} paragraph${plural} contain${singular} only bold text`,\r\n      detailsViewLabel: \"Paragraphs with only bolded text\",\r\n      detailsView: detailsView.bind(this, boldedParagraphs),\r\n    });\r\n  }\r\n\r\n  return report;\r\n};\r\n\r\nwp.hooks.addFilter(\r\n  \"wsu.Accessibility\",\r\n  \"wsuwp/accessibility-checker\",\r\n  boldedParagraphsCheck\r\n);\r\n","const headingOrderCheck = (report, doc) => {\r\n  let previousHeadingLevel = doc.querySelector(\"h1\") === null ? 1 : 0;\r\n  const headings = Array.from(doc.querySelectorAll(\"h1, h2, h3, h4, h5, h6\"));\r\n\r\n  function getHeadingLevel(heading) {\r\n    return parseInt(heading.tagName[1]);\r\n  }\r\n\r\n  function detailsView(headingData) {\r\n    return (\r\n      <table className=\"wsu-gutenberg-accessibility-panel__details-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Valid</th>\r\n            <th>Level</th>\r\n            <th>Content</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {headingData.map((h, idx) => (\r\n            <tr key={`heading-` + idx}>\r\n              <td>\r\n                <span\r\n                  className={`dashicon dashicons dashicons-${h.icon}`}\r\n                ></span>\r\n              </td>\r\n              <td>{h.tag}</td>\r\n              <td>{h.content}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  let hasFailed = false;\r\n  const headingData = headings.map((h) => {\r\n    const headingLevel = getHeadingLevel(h);\r\n    const isValid = !(headingLevel > previousHeadingLevel + 1);\r\n    const icon = hasFailed ? \"minus\" : isValid ? \"yes-alt\" : \"dismiss\";\r\n    previousHeadingLevel = headingLevel;\r\n\r\n    hasFailed = hasFailed === true ? true : !isValid;\r\n\r\n    return {\r\n      icon: icon,\r\n      tag: h.tagName,\r\n      content: h.textContent,\r\n    };\r\n  });\r\n\r\n  if (hasFailed) {\r\n    report.alerts.push({\r\n      message: \"Incorrect heading order\",\r\n      detailsViewLabel: \"Incorrect heading order\",\r\n      detailsView: detailsView.bind(this, headingData),\r\n    });\r\n  }\r\n\r\n  return report;\r\n};\r\n\r\nwp.hooks.addFilter(\r\n  \"wsu.Accessibility\",\r\n  \"wsuwp/accessibility-checker\",\r\n  headingOrderCheck\r\n);\r\n","const imageAltsCheck = (report, doc) => {\r\n  const missingAlts = [];\r\n  const linkedImagesMissingAlts = [];\r\n  const linkedImagesWithAlts = [];\r\n  const images = Array.from(doc.querySelectorAll(\"img\"));\r\n\r\n  function detailsView(imgs, showAlt) {\r\n    return (\r\n      <table className=\"wsu-gutenberg-accessibility-panel__details-table\">\r\n        <thead>\r\n          <tr>\r\n            {/* <th>Media ID</th> */}\r\n            <th>Preview</th>\r\n            <th>Filename</th>\r\n            {showAlt && <th>Alt Text</th>}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {imgs.map((i, idx) => {\r\n            // const id = extractId(i.className);\r\n            const filename = i.getAttribute(\"src\")?.split(\"/\").pop();\r\n            const alt = i.alt?.trim();\r\n            return (\r\n              <tr key={`image-` + idx}>\r\n                {/* <td>{id}</td> */}\r\n                <td>\r\n                  <img src={i.getAttribute(\"src\")} />\r\n                </td>\r\n                <td>{filename}</td>\r\n                {showAlt && <td>{alt}</td>}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  images.forEach((i) => {\r\n    const link = i.closest(\"a\");\r\n    const alt = i.alt.trim();\r\n\r\n    if (!alt && !link) {\r\n      missingAlts.push(i);\r\n    } else if (link && link.tabIndex !== -1 && !alt) {\r\n      linkedImagesMissingAlts.push(i);\r\n    } else if (link && alt) {\r\n      linkedImagesWithAlts.push(i);\r\n    }\r\n  });\r\n\r\n  if (missingAlts.length > 0) {\r\n    const plural = missingAlts.length > 1 ? \"s\" : \"\";\r\n    report.warnings.push({\r\n      message: `${missingAlts.length} image${plural} missing alt text`,\r\n      detailsViewLabel: \"Images missing alt text\",\r\n      detailsView: detailsView.bind(this, missingAlts, false),\r\n    });\r\n  }\r\n\r\n  if (linkedImagesMissingAlts.length > 0) {\r\n    const plural = linkedImagesMissingAlts.length > 1 ? \"s\" : \"\";\r\n    report.errors.push({\r\n      message: `${linkedImagesMissingAlts.length} linked image${plural} missing alt text`,\r\n      detailsViewLabel: \"Linked images missing alt text\",\r\n      detailsView: detailsView.bind(this, linkedImagesMissingAlts, false),\r\n    });\r\n  }\r\n\r\n  if (linkedImagesWithAlts.length > 0) {\r\n    const plural = linkedImagesWithAlts.length > 1 ? \"s\" : \"\";\r\n    report.warnings.push({\r\n      message: `${linkedImagesWithAlts.length} image${plural} where alt text should be the destination`,\r\n      detailsViewLabel: \"Images where alt text should be the destination\",\r\n      detailsView: detailsView.bind(this, linkedImagesWithAlts, true),\r\n    });\r\n  }\r\n\r\n  return report;\r\n};\r\n\r\nwp.hooks.addFilter(\r\n  \"wsu.Accessibility\",\r\n  \"wsuwp/accessibility-checker\",\r\n  imageAltsCheck\r\n);\r\n","import \"./missing-hrefs\";\r\nimport \"./image-alts\";\r\nimport \"./heading-order\";\r\nimport \"./bolded-paragraphs\";\r\n","const missingHrefsCheck = (report, doc) => {\r\n  const missingHrefs = [];\r\n  const links = Array.from(doc.querySelectorAll(\"a\"));\r\n\r\n  function detailsView(missingHrefs) {\r\n    return (\r\n      <table className=\"wsu-gutenberg-accessibility-panel__details-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Link Text</th>\r\n            <th>Href</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {missingHrefs.map((l, idx) => (\r\n            <tr key={`link-` + idx}>\r\n              <td>{l.textContent}</td>\r\n              <td>{l.getAttribute(\"href\")}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  links.forEach((l) => {\r\n    const href = l.getAttribute(\"href\");\r\n\r\n    if (\r\n      href === null ||\r\n      href.trim() === \"\" ||\r\n      href.trim() === \"#\" ||\r\n      href.trim() === \"http://\" ||\r\n      href.trim() === \"https://\"\r\n    ) {\r\n      missingHrefs.push(l);\r\n    }\r\n  });\r\n\r\n  if (missingHrefs.length > 0) {\r\n    const plural = missingHrefs.length > 1 ? \"s\" : \"\";\r\n    report.errors.push({\r\n      message: `${missingHrefs.length} link${plural} with missing or invalid href${plural}`,\r\n      detailsViewLabel: \"Links with missing or invalid hrefs\",\r\n      detailsView: detailsView.bind(this, missingHrefs),\r\n    });\r\n  }\r\n\r\n  return report;\r\n};\r\n\r\nwp.hooks.addFilter(\r\n  \"wsu.Accessibility\",\r\n  \"wsuwp/accessibility-checker\",\r\n  missingHrefsCheck\r\n);\r\n","const { useState, useEffect, useRef } = wp.element;\r\nconst { Popover, Button } = wp.components;\r\n\r\nconst DetailsView = (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [skipNext, setSkipNext] = useState(false);\r\n  const toggleButton = useRef(null);\r\n\r\n  // hack to prevent reopening popover when clicking the button to close\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", resetSkipNext);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", resetSkipNext);\r\n    };\r\n  }, []);\r\n\r\n  function resetSkipNext(e) {\r\n    setSkipNext(false);\r\n  }\r\n\r\n  function toggle(e) {\r\n    if (!skipNext) {\r\n      setIsOpen((state) => !state);\r\n    }\r\n\r\n    setSkipNext(e === undefined);\r\n  }\r\n\r\n  function getAnchorProp() {\r\n    return WSUWP_DATA.wpVersion.includes(\"6.1\")\r\n      ? { anchor: props.anchor.current }\r\n      : {\r\n          getAnchorRect: () => {\r\n            const rect = props.anchor.current?.getBoundingClientRect() || null;\r\n\r\n            if (rect) {\r\n              rect.x = rect.right - rect.width - rect.width / 2 - 25 - 8; // ðŸ˜µðŸ¥´\r\n              rect.y = rect.y - rect.height - 10;\r\n\r\n              return rect;\r\n            }\r\n\r\n            return null;\r\n          },\r\n        };\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button ref={toggleButton} isLink={true} onClick={toggle}>\r\n        Details\r\n      </Button>\r\n      {isOpen && (\r\n        <Popover\r\n          className=\"wsu-gutenberg-accessibility-panel__details-view\"\r\n          headerTitle={props.label}\r\n          onClose={toggle}\r\n          position=\"bottom left\"\r\n          {...getAnchorProp()}\r\n        >\r\n          <h4 className=\"wsu-gutenberg-accessibility-panel__details-heading\">\r\n            {props.label}\r\n          </h4>\r\n          <div className=\"wsu-gutenberg-accessibility-panel__details-content\">\r\n            {props.children}\r\n          </div>\r\n        </Popover>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DetailsView;\r\n","const { useState, useEffect, useRef } = wp.element;\r\n\r\nconst useOutputMarkup = function (postId, gutenbergContent) {\r\n  const [output, setOutput] = useState({\r\n    html: null,\r\n    isLoading: false,\r\n    error: null,\r\n  });\r\n  const abortControllerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setOutput({\r\n        html: null,\r\n        isLoading: true,\r\n        error: null,\r\n      });\r\n\r\n      abortControllerRef.current?.abort();\r\n\r\n      if (typeof AbortController !== \"undefined\") {\r\n        abortControllerRef.current = new AbortController();\r\n      }\r\n\r\n      (async () => {\r\n        const response = await fetch(\r\n          WSUWP_DATA.siteUrl +\r\n            `/wp-json/wsu-gutenberg-accessibility/v1/parse-gutenberg-content`,\r\n          {\r\n            method: \"POST\",\r\n            body: new URLSearchParams({\r\n              postId: postId,\r\n              content: gutenbergContent,\r\n            }),\r\n            signal: abortControllerRef.current?.signal,\r\n          }\r\n        );\r\n\r\n        const responseJson = await response.json();\r\n\r\n        if (response.ok) {\r\n          setOutput({\r\n            html: responseJson.html,\r\n            isLoading: false,\r\n            error: null,\r\n          });\r\n        } else {\r\n          setOutput({\r\n            html: null,\r\n            isLoading: false,\r\n            error: `${responseJson.code} | ${responseJson.message} ${response.status} (${response.statusText})`,\r\n          });\r\n        }\r\n      })();\r\n\r\n      return () => {\r\n        abortControllerRef.current?.abort();\r\n      };\r\n    } catch (ex) {\r\n      setOutput({\r\n        html: null,\r\n        isLoading: false,\r\n        error: ex.message,\r\n      });\r\n    }\r\n  }, [postId, gutenbergContent]);\r\n\r\n  return output;\r\n};\r\n\r\nexport { useOutputMarkup };\r\n","// FIXME: Doesn't work on the first save because the endpoint requires a postId\n// FIXME: If the editor clicks save before the report finishes loading the meta data will be lost. Could lock the save buttons during load?\nimport ReportPanel from \"./report-panel\";\nimport { useOutputMarkup } from \"./hooks\";\nimport \"./default-checks\";\n\nconst registerPlugin = wp.plugins.registerPlugin;\nconst { applyFilters } = wp.hooks;\nconst { useSelect, useDispatch } = wp.data;\n\nconst AccessibilityChecker = () => {\n    const report = {\n        errors: [],\n        alerts: [],\n        warnings: [],\n        data: {},\n    };\n\n    const { editPost } = useDispatch(\"core/editor\");\n    const { postId, editedPostContent, permalink, isSaving } = useSelect(\n        (select) => {\n            const editor = select(\"core/editor\");\n            return {\n                postId: editor.getCurrentPostId(),\n                editedPostContent: editor.getEditedPostContent(),\n                permalink: editor.getPermalink(),\n                isSaving: editor.isSavingPost() || editor.isAutosavingPost(),\n            };\n        }\n    );\n\n    const { html, isLoading, error } = useOutputMarkup(\n        postId,\n        editedPostContent\n    );\n\n    if (html !== null) {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(html, \"text/html\");\n\n        applyFilters(\"wsu.Accessibility\", report, doc);\n\n        setTimeout(() => {\n            editPost({\n                meta: {\n                    wsuwp_accessibility_report: JSON.stringify(report),\n                },\n            });\n        }, 0);\n    }\n\n    return (\n        <ReportPanel\n            report={report}\n            isLoading={isLoading}\n            error={error}\n            permalink={permalink}\n        />\n    );\n};\n\nconst AccessibilityCheckerInitiator = () => {\n    // const status = wp.data.select(\"core/editor\").getCurrentPost().status;\n    // return status !== \"auto-draft\" && <AccessibilityChecker />;\n\n    const lastRevisionId = wp.data\n        .select(\"core/editor\")\n        .getCurrentPostLastRevisionId();\n\n    return lastRevisionId !== null && <AccessibilityChecker />;\n};\n\nregisterPlugin(\"wsu-plugin-accessibility\", {\n    render: AccessibilityCheckerInitiator,\n    icon: \"\",\n});\n","import Report from \"./report\";\r\n\r\nconst { PluginDocumentSettingPanel } = wp.editPost;\r\n\r\nconst ReportPanel = (props) => {\r\n  return (\r\n    <PluginDocumentSettingPanel\r\n      name=\"wsu-accessibility\"\r\n      title=\"Accessibility\"\r\n      className=\"wsu-gutenberg-accessibility-panel\"\r\n    >\r\n      <Report {...props} />\r\n    </PluginDocumentSettingPanel>\r\n  );\r\n};\r\n\r\nexport default ReportPanel;\r\n","import DetailsView from \"./details-view\";\nconst { ExternalLink } = wp.components;\nconst { useRef } = wp.element;\n\nconst ReportTable = (props) => {\n  return (\n    <>\n      {props.logs.length > 0 ? (\n        <>\n          <table className=\"wsu-gutenberg-accessibility-panel__report-table\">\n            <tbody>\n              {props.logs.map((l, idx) => {\n                const tableRow = useRef(null);\n                return (\n                  <tr ref={tableRow} key={`rr-${idx}`}>\n                    <td>{l.message}</td>\n                    <td>\n                      <DetailsView label={l.detailsViewLabel} anchor={tableRow}>\n                        <l.detailsView />\n                      </DetailsView>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </>\n      ) : (\n        <p className=\"wsu-gutenberg-accessibility-panel__report-empty-message\">\n          {props.emptyMessage}\n        </p>\n      )}\n    </>\n  );\n};\n\nconst Report = (props) => {\n  const { report, isLoading, error, permalink } = props;\n\n  const reportSections = [\n    { label: \"Errors\", icon: \"dismiss\", logs: report.errors },\n    { label: \"Alerts\", icon: \"warning\", logs: report.alerts },\n    { label: \"Warnings\", icon: \"flag\", logs: report.warnings },\n  ];\n\n  return (\n    <>\n      {!isLoading && !error ? (\n        <>\n          {reportSections.map((section) => (\n            <div\n              key={`section-${section.label}`}\n              className=\"wsu-gutenberg-accessibility-panel__section\"\n            >\n              <h3 className=\"wsu-gutenberg-accessibility-panel__section-heading\">\n                <span\n                  className={`dashicon dashicons dashicons-${section.icon}`}\n                ></span>{\" \"}\n                {section.label}\n              </h3>\n              <ReportTable\n                logs={section.logs}\n                emptyMessage={`0 ${section.label.toLowerCase()} to display.`}\n              />\n            </div>\n          ))}\n        </>\n      ) : error ? (\n        <p>{error}</p>\n      ) : (\n        <p>loading...</p>\n      )}\n\n      <ExternalLink\n        className=\"wsu-gutenberg-accessibility-panel__wave-link\"\n        href={`https://wave.webaim.org/report#/` + permalink}\n      >\n        Review on WAVE\n      </ExternalLink>\n    </>\n  );\n};\n\nexport default Report;\n","import \"./accessibility-checker\";\n\nimport \"./style.scss\";\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"element\"];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwsuwp_plugin_gutenberg_accessibility\"] = self[\"webpackChunkwsuwp_plugin_gutenberg_accessibility\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], function() { return __webpack_require__(\"../../../../../../../../../repos/wsu/wsuwp-plugin-gutenberg-accesssibility/assets/src/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["boldedParagraphsCheck","report","doc","boldedParagraphs","paragraphs","Array","from","querySelectorAll","isDescendant","parent","child","node","parentNode","detailsView","map","p","idx","forEach","text","textContent","trim","boldElements","e","removeChild","more","length","push","substring","plural","singular","warnings","message","detailsViewLabel","bind","wp","hooks","addFilter","headingOrderCheck","previousHeadingLevel","querySelector","headings","getHeadingLevel","heading","parseInt","tagName","headingData","h","icon","tag","content","hasFailed","headingLevel","isValid","alerts","imageAltsCheck","missingAlts","linkedImagesMissingAlts","linkedImagesWithAlts","images","imgs","showAlt","i","filename","getAttribute","split","pop","alt","link","closest","tabIndex","errors","missingHrefsCheck","missingHrefs","links","l","href","useState","useEffect","useRef","element","Popover","Button","components","DetailsView","props","isOpen","setIsOpen","skipNext","setSkipNext","toggleButton","document","addEventListener","resetSkipNext","removeEventListener","toggle","state","undefined","getAnchorProp","WSUWP_DATA","wpVersion","includes","anchor","current","getAnchorRect","rect","getBoundingClientRect","x","right","width","y","height","label","children","useOutputMarkup","postId","gutenbergContent","output","setOutput","html","isLoading","error","abortControllerRef","abort","AbortController","response","fetch","siteUrl","method","body","URLSearchParams","signal","responseJson","json","ok","code","status","statusText","ex","ReportPanel","registerPlugin","plugins","applyFilters","useSelect","useDispatch","data","AccessibilityChecker","editPost","editedPostContent","permalink","isSaving","select","editor","getCurrentPostId","getEditedPostContent","getPermalink","isSavingPost","isAutosavingPost","parser","DOMParser","parseFromString","setTimeout","meta","wsuwp_accessibility_report","JSON","stringify","AccessibilityCheckerInitiator","lastRevisionId","getCurrentPostLastRevisionId","render","Report","PluginDocumentSettingPanel","ExternalLink","ReportTable","logs","tableRow","emptyMessage","reportSections","section","toLowerCase"],"sourceRoot":""}